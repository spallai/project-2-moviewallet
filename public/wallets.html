<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Movie Wallets</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="walletsbackground">
        <br><br><br>
        <div class="logo">
            <a href="feed.html"><img src="assets/images/mw-logo.png" /></a>
        </div>
        <br><br>
        <div class="wallets-menu">
            <br><br>
            <button id="yes" onclick="myFunction()">yes</button>
            <button id="maybe" onclick="myFunction()">maybe</button>
            <button id="playlists" onclick="myFunction()">playlists</button>
            <button id="no" onclick="myFunction()">no</button>
        </div>

        <div class="yes">
            <h2>Yes</h2>
            <p>Because you need to watch this at some point.</p>
        </div>

        <div class="maybe" style="display:none">
            <h2>Maybe</h2>
            <p>Saving these for a rainy day...</p>
        </div>

        <div class="playlists" style="display:none">
            <h2>Playlists</h2>
            <p>Look over and edit your playlists. Enjoy the ones you have favorited as well.</p>
        </div>
        <div class="no" style="display:none">
            <h2>No</h2>
            <p>Just in case you change your mind, since they are no longer on your feed...</p>
        </div>
        <br><br>
    </div>

    <!-- <script>**WORKING ON THIS
                function openCity(cityName) {
                  var i;
                  var x = document.getElementsByClassName("city");
                  for (i = 0; i < x.length; i++) {
                    x[i].style.display = "none";  
                  }
                  document.getElementById(cityName).style.display = "block";  
                }
                </script> -->
    <script>
        $.get("/api/movies/1/1", function (data) {
            loopOver(1, data);
        });

        $.get("/api/movies/2/1", function (data) {
            loopOver(2, data);
        });

        $.get("/api/movies/3/1", function (data) {
            loopOver(3, data);
        });

        function loopOver(status, data) {
            var moviesDiv = $("<div>");

            for (let i = 0; i < data.movies.length; i++) {
                var newDiv = $("<div>");

                var poster = $("<div>");
                var genre = $("<div>");
                var actors = $("<div>");
                var year = $("<div>");
                var plot = $("<div>");
                var title = $("<div>");
                var imdbLink = $("<div>");

                poster.html("<img src =" + data.movies[i].poster + ">");
                title.text("Title: " + data.movies[i].title);
                genre.text("Genre: " + data.movies[i].genre);
                actors.text("Actors: " + data.movies[i].actors);
                plot.text("Plot: " + data.movies[i].plot);
                imdbLink.html("<p>Imdb Link: <a href = 'https://www.imdb.com/title/" + data.movies[i].imdbId + "/'>https://www.imdb.com/title/" + data.movies[i].imdbId + "/</a></p>");

                newDiv.append(poster);
                newDiv.append(title);
                newDiv.append(genre);
                newDiv.append(actors);
                newDiv.append(year);
                newDiv.append(plot);
                newDiv.append(imdbLink);

                moviesDiv.append(newDiv);
            }
            if (status === 1)
                $(".yes").append(moviesDiv);
            else if (status === 2)
                $(".no").append(moviesDiv);
            else
                $(".maybe").append(moviesDiv);
        }
    </script>
</body>

</html>